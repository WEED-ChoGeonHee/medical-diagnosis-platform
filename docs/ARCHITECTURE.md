# ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

## ëª©ì°¨
1. [ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°](#ì „ì²´-ì‹œìŠ¤í…œ-êµ¬ì¡°)
2. [ìš”ì²­ ì²˜ë¦¬ íë¦„](#ìš”ì²­-ì²˜ë¦¬-íë¦„)
3. [ë°ì´í„° íë¦„](#ë°ì´í„°-íë¦„)
4. [ì£¼ìš” ì»´í¬ë„ŒíŠ¸](#ì£¼ìš”-ì»´í¬ë„ŒíŠ¸)
5. [ë°°í¬ ì•„í‚¤í…ì²˜](#ë°°í¬-ì•„í‚¤í…ì²˜)

---

## ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì‚¬ìš©ì                               â”‚
â”‚                    (í™˜ì / ì˜ì‚¬)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                              â”‚
               â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì›¹ ë¸Œë¼ìš°ì €         â”‚          â”‚   Android ì•±          â”‚
â”‚   - Chrome           â”‚          â”‚   - í™˜ììš© APK        â”‚
â”‚   - Safari           â”‚          â”‚   - ì˜ì‚¬ìš© APK        â”‚
â”‚   - Edge             â”‚          â”‚   (WebView)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                  â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ HTTPS
                        â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  Render Web Service    â”‚
           â”‚  (Nginx/Express)       â”‚
           â”‚  í¬íŠ¸: 10000           â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚               â”‚
        â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ /patient     â”‚ â”‚ /admin   â”‚ â”‚ /api         â”‚
â”‚ (í™˜ì í¬í„¸)   â”‚ â”‚ (ê´€ë¦¬ì)  â”‚ â”‚ (REST API)   â”‚
â”‚ React SPA    â”‚ â”‚ React SPAâ”‚ â”‚ Express.js   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚                   â”‚                   â”‚
                  â–¼                   â–¼                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Aiven MySQL   â”‚  â”‚  Cloudinary    â”‚  â”‚  Google AI  â”‚
         â”‚  (ë°ì´í„°ë² ì´ìŠ¤) â”‚  â”‚  (ì´ë¯¸ì§€ CDN)  â”‚  â”‚  (Gemini)   â”‚
         â”‚  - í™˜ì ì •ë³´   â”‚  â”‚  - í”¼ë¶€ ì‚¬ì§„   â”‚  â”‚  - AI ì§„ë‹¨  â”‚
         â”‚  - ì§„ë‹¨ ê¸°ë¡   â”‚  â”‚  - ì—…ë¡œë“œ/ì €ì¥ â”‚  â”‚  - ì˜í•™ ì •ë³´â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ìš”ì²­ ì²˜ë¦¬ íë¦„

### 1ï¸âƒ£ í™˜ì - ì§„ë‹¨ ìš”ì²­ íë¦„

```
í™˜ì ë¸Œë¼ìš°ì €/ì•±
    â”‚
    â”‚ 1. GET /patient
    â–¼
Render ì„œë²„ (Express)
    â”‚
    â”‚ 2. ì •ì  íŒŒì¼ ì„œë¹™
    â–¼
patient-portal/build/index.html
    â”‚
    â”‚ 3. React ì•± ë¡œë“œ
    â–¼
í™˜ì í¬í„¸ UI
    â”‚
    â”‚ 4. ë¡œê·¸ì¸/íšŒì›ê°€ì…
    â–¼
POST /api/auth/login
    â”‚
    â”‚ 5. JWT í† í° ë°œê¸‰
    â–¼
í™˜ì í¬í„¸ (ì¸ì¦ë¨)
    â”‚
    â”‚ 6. ì§„ë‹¨ ìš”ì²­ (ì´ë¯¸ì§€ í¬í•¨)
    â”‚    - ì¦ìƒ ì •ë³´ ì…ë ¥
    â”‚    - í”¼ë¶€ ì‚¬ì§„ ì—…ë¡œë“œ (ìµœëŒ€ 5ì¥)
    â–¼
POST /api/diagnoses (multipart/form-data)
    â”‚
    â”œâ”€â”€â”€â”€â”€â–º 7. Cloudinaryì— ì´ë¯¸ì§€ ì—…ë¡œë“œ
    â”‚           â”‚
    â”‚           â””â”€â”€â”€â”€â”€â–º CDN URL ë°˜í™˜
    â”‚
    â”œâ”€â”€â”€â”€â”€â–º 8. Google Gemini API í˜¸ì¶œ
    â”‚           â”‚
    â”‚           â””â”€â”€â”€â”€â”€â–º AI ì§„ë‹¨ ê²°ê³¼ ë°˜í™˜
    â”‚
    â”œâ”€â”€â”€â”€â”€â–º 9. Aiven MySQLì— ì €ì¥
    â”‚           â”‚
    â”‚           â””â”€â”€â”€â”€â”€â–º ì§„ë‹¨ ë ˆì½”ë“œ ìƒì„±
    â”‚
    â””â”€â”€â”€â”€â”€â–º 10. í™˜ìì—ê²Œ ê²°ê³¼ ë°˜í™˜
                â”‚
                â–¼
í™˜ìê°€ AI ì§„ë‹¨ ê²°ê³¼ í™•ì¸
```

### 2ï¸âƒ£ ì˜ì‚¬ - ì§„ë‹¨ ê²€í†  íë¦„

```
ì˜ì‚¬ ë¸Œë¼ìš°ì €/ì•±
    â”‚
    â”‚ 1. GET /admin
    â–¼
Render ì„œë²„ (Express)
    â”‚
    â”‚ 2. ì •ì  íŒŒì¼ ì„œë¹™
    â–¼
admin-dashboard/build/index.html
    â”‚
    â”‚ 3. React ì•± ë¡œë“œ
    â–¼
ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ UI
    â”‚
    â”‚ 4. ì˜ì‚¬ ë¡œê·¸ì¸
    â–¼
POST /api/auth/login (role: doctor)
    â”‚
    â”‚ 5. JWT í† í° ë°œê¸‰ (role í¬í•¨)
    â–¼
ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (ì¸ì¦ë¨)
    â”‚
    â”œâ”€â”€â”€â”€â”€â–º GET /api/admin/stats
    â”‚           â”‚
    â”‚           â””â”€â”€â”€â”€â”€â–º Aiven MySQL: í†µê³„ ì¡°íšŒ
    â”‚
    â”œâ”€â”€â”€â”€â”€â–º GET /api/admin/diagnoses
    â”‚           â”‚
    â”‚           â””â”€â”€â”€â”€â”€â–º Aiven MySQL: ì§„ë‹¨ ëª©ë¡ ì¡°íšŒ
    â”‚
    â””â”€â”€â”€â”€â”€â–º GET /api/admin/diagnoses/:id
                â”‚
                â””â”€â”€â”€â”€â”€â–º Aiven MySQL: ì§„ë‹¨ ìƒì„¸ ì¡°íšŒ
                        â”‚
                        â”‚ 6. ì˜ì‚¬ ì†Œê²¬ ì‘ì„±
                        â–¼
                   PUT /api/admin/diagnoses/:id
                        â”‚
                        â””â”€â”€â”€â”€â”€â–º Aiven MySQL: ì†Œê²¬ ì €ì¥
                                â”‚
                                â–¼
                           í™˜ìì—ê²Œ ê²€í†  ì™„ë£Œ ì•Œë¦¼
```

---

## ë°ì´í„° íë¦„

### ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

```sql
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              users í…Œì´ë¸”                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          - INT AUTO_INCREMENT   â”‚
â”‚ name             - VARCHAR(100)         â”‚
â”‚ email            - VARCHAR(100) UNIQUE  â”‚
â”‚ password         - VARCHAR(255) HASHED  â”‚
â”‚ phone            - VARCHAR(20)          â”‚
â”‚ role             - ENUM('patient','doctor')â”‚
â”‚ created_at       - TIMESTAMP            â”‚
â”‚ updated_at       - TIMESTAMP            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ 1:N
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           diagnoses í…Œì´ë¸”               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)          - INT AUTO_INCREMENT   â”‚
â”‚ patient_id (FK)  - INT â†’ users.id       â”‚
â”‚ patient_name     - VARCHAR(100)         â”‚
â”‚ symptom_type     - VARCHAR(100)         â”‚
â”‚ skin_type        - VARCHAR(50)          â”‚
â”‚ symptom_description - TEXT              â”‚
â”‚ images           - JSON (Cloudinary URLs)â”‚
â”‚ ai_diagnosis     - TEXT (Gemini ê²°ê³¼)   â”‚
â”‚ medical_info     - TEXT (ê´€ë ¨ ì˜í•™ ì •ë³´) â”‚
â”‚ doctor_notes     - TEXT (ì˜ì‚¬ ì†Œê²¬)     â”‚
â”‚ status           - ENUM('pending','reviewed')â”‚
â”‚ created_at       - TIMESTAMP            â”‚
â”‚ updated_at       - TIMESTAMP            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì´ë¯¸ì§€ ì²˜ë¦¬ í”Œë¡œìš°

```
í™˜ìê°€ íŒŒì¼ ì„ íƒ
    â”‚
    â”‚ File[]
    â–¼
ë¸Œë¼ìš°ì € (FormData)
    â”‚
    â”‚ multipart/form-data
    â–¼
Express (Multer ë¯¸ë“¤ì›¨ì–´)
    â”‚
    â”‚ req.files[]
    â–¼
Cloudinary Upload API
    â”‚
    â”‚ 1. ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• (ìµœëŒ€ 1200x1200)
    â”‚ 2. í¬ë§· ìµœì í™” (WebP/JPEG)
    â”‚ 3. CDNì— ì €ì¥
    â–¼
Cloudinary URL ë°˜í™˜
    â”‚
    â”‚ ["https://res.cloudinary.com/xxx/image1.jpg", ...]
    â–¼
MySQL JSON ì»¬ëŸ¼ì— ì €ì¥
    â”‚
    â–¼
í”„ë¡ íŠ¸ì—”ë“œì— URL ì „ë‹¬
    â”‚
    â–¼
<img src="cloudinary_url" /> ë Œë”ë§
```

### AI ì§„ë‹¨ í”Œë¡œìš°

```
ì§„ë‹¨ ìš”ì²­ ë°ì´í„°
    â”‚
    â”‚ {
    â”‚   symptomType: "ì—¬ë“œë¦„",
    â”‚   skinType: "ì§€ì„±",
    â”‚   description: "ì–¼êµ´ ì „ì²´ì—...",
    â”‚   images: [...]
    â”‚ }
    â–¼
Google Gemini API
    â”‚
    â”‚ Prompt:
    â”‚ "ë‹¹ì‹ ì€ í”¼ë¶€ê³¼ ì „ë¬¸ì˜ì…ë‹ˆë‹¤.
    â”‚  ì¦ìƒ: {symptomType}
    â”‚  í”¼ë¶€íƒ€ì…: {skinType}
    â”‚  ì„¤ëª…: {description}
    â”‚  ì´ë¯¸ì§€: {imageUrls}
    â”‚  
    â”‚  ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ì§„ë‹¨í•´ì£¼ì„¸ìš”:
    â”‚  1. ì¦ìƒ ë¶„ì„
    â”‚  2. ê°€ëŠ¥í•œ ì§„ë‹¨
    â”‚  3. ê¶Œì¥ ì¹˜ë£Œ
    â”‚  4. ì£¼ì˜ì‚¬í•­"
    â–¼
Gemini ì‘ë‹µ
    â”‚
    â”‚ AI ì§„ë‹¨ í…ìŠ¤íŠ¸ (ë§ˆí¬ë‹¤ìš´ í˜•ì‹)
    â–¼
MySQLì— ì €ì¥ (ai_diagnosis ì»¬ëŸ¼)
    â”‚
    â–¼
í™˜ì/ì˜ì‚¬ì—ê²Œ í‘œì‹œ
```

---

## ì£¼ìš” ì»´í¬ë„ŒíŠ¸

### ë°±ì—”ë“œ (Express.js)

```
backend/
â”œâ”€â”€ server.js                   # ë©”ì¸ ì„œë²„
â”‚   â”œâ”€â”€ Express ì•± ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ CORS ì„¤ì •
â”‚   â”œâ”€â”€ ë¯¸ë“¤ì›¨ì–´ ë“±ë¡
â”‚   â”œâ”€â”€ ë¼ìš°íŠ¸ ë“±ë¡
â”‚   â”œâ”€â”€ ì •ì  íŒŒì¼ ì„œë¹™
â”‚   â””â”€â”€ í¬íŠ¸ ë¦¬ìŠ¤ë‹ (10000)
â”‚
â”œâ”€â”€ config/
â”‚   â””â”€â”€ database.js             # MySQL ì—°ê²° í’€
â”‚       â”œâ”€â”€ mysql2/promise
â”‚       â”œâ”€â”€ SSL ì„¤ì • (Aiven)
â”‚       â””â”€â”€ ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚
â”œâ”€â”€ middleware/
â”‚   â””â”€â”€ auth.js                 # JWT ì¸ì¦/ì¸ê°€
â”‚       â”œâ”€â”€ verifyToken()
â”‚       â””â”€â”€ requireDoctor()
â”‚
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ User.js                 # ì‚¬ìš©ì ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ create()
â”‚   â”‚   â”œâ”€â”€ findByEmail()
â”‚   â”‚   â””â”€â”€ validatePassword()
â”‚   â””â”€â”€ Diagnosis.js            # ì§„ë‹¨ ëª¨ë¸
â”‚       â”œâ”€â”€ create()
â”‚       â”œâ”€â”€ findAll()
â”‚       â”œâ”€â”€ findById()
â”‚       â””â”€â”€ update()
â”‚
â””â”€â”€ routes/
    â”œâ”€â”€ auth.js                 # ì¸ì¦ API
    â”‚   â”œâ”€â”€ POST /register
    â”‚   â””â”€â”€ POST /login
    â”œâ”€â”€ diagnoses.js            # ì§„ë‹¨ API (í™˜ì)
    â”‚   â”œâ”€â”€ POST /
    â”‚   â”œâ”€â”€ GET /my
    â”‚   â””â”€â”€ GET /:id
    â”œâ”€â”€ admin.js                # ê´€ë¦¬ì API
    â”‚   â”œâ”€â”€ GET /stats
    â”‚   â”œâ”€â”€ GET /diagnoses
    â”‚   â”œâ”€â”€ GET /diagnoses/:id
    â”‚   â””â”€â”€ PUT /diagnoses/:id
    â””â”€â”€ patients.js             # í™˜ì API
        â””â”€â”€ GET /
```

### í”„ë¡ íŠ¸ì—”ë“œ (React)

#### í™˜ì í¬í„¸
```
patient-portal/src/
â”œâ”€â”€ App.js                      # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ React Router ì„¤ì •
â”‚       â”œâ”€â”€ /register
â”‚       â”œâ”€â”€ /login
â”‚       â”œâ”€â”€ /dashboard
â”‚       â”œâ”€â”€ /new-diagnosis
â”‚       â””â”€â”€ /diagnosis/:id
â”‚
â”œâ”€â”€ api.js                      # API í´ë¼ì´ì–¸íŠ¸
â”‚   â””â”€â”€ axios ì¸ìŠ¤í„´ìŠ¤
â”‚       â””â”€â”€ baseURL: /api
â”‚
â””â”€â”€ components/
    â”œâ”€â”€ Register.js             # íšŒì›ê°€ì…
    â”œâ”€â”€ Login.js                # ë¡œê·¸ì¸
    â”œâ”€â”€ Dashboard.js            # ëŒ€ì‹œë³´ë“œ
    â”‚   â””â”€â”€ ì§„ë‹¨ ëª©ë¡ í‘œì‹œ
    â”œâ”€â”€ NewDiagnosis.js         # ìƒˆ ì§„ë‹¨ ìš”ì²­
    â”‚   â”œâ”€â”€ ì¦ìƒ ì…ë ¥ í¼
    â”‚   â”œâ”€â”€ ì´ë¯¸ì§€ ì—…ë¡œë“œ (ìµœëŒ€ 5ì¥)
    â”‚   â””â”€â”€ ë¯¸ë¦¬ë³´ê¸°
    â””â”€â”€ DiagnosisDetail.js      # ì§„ë‹¨ ìƒì„¸
        â”œâ”€â”€ AI ì§„ë‹¨ ê²°ê³¼
        â”œâ”€â”€ ì˜ì‚¬ ì†Œê²¬
        â””â”€â”€ ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬
```

#### ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
```
admin-dashboard/src/
â”œâ”€â”€ App.js                      # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ React Router ì„¤ì •
â”‚       â”œâ”€â”€ /login
â”‚       â”œâ”€â”€ /dashboard
â”‚       â”œâ”€â”€ /diagnoses
â”‚       â”œâ”€â”€ /diagnosis/:id
â”‚       â””â”€â”€ /patients
â”‚
â”œâ”€â”€ api.js                      # API í´ë¼ì´ì–¸íŠ¸
â”‚
â””â”€â”€ components/
    â”œâ”€â”€ Login.js                # ì˜ì‚¬ ë¡œê·¸ì¸
    â”œâ”€â”€ Dashboard.js            # í†µê³„ ëŒ€ì‹œë³´ë“œ
    â”‚   â”œâ”€â”€ KPI ì¹´ë“œ
    â”‚   â”œâ”€â”€ ì§„ë‹¨ í˜„í™© ì°¨íŠ¸
    â”‚   â””â”€â”€ ì¦ìƒ/í”¼ë¶€íƒ€ì… ì°¨íŠ¸
    â”œâ”€â”€ DiagnosisList.js        # ì§„ë‹¨ ëª©ë¡
    â”‚   â”œâ”€â”€ í•„í„°ë§ (ìƒíƒœ, ì¦ìƒ)
    â”‚   â”œâ”€â”€ ê²€ìƒ‰
    â”‚   â””â”€â”€ í˜ì´ì§€ë„¤ì´ì…˜
    â”œâ”€â”€ DiagnosisDetail.js      # ì§„ë‹¨ ìƒì„¸
    â”‚   â”œâ”€â”€ í™˜ì ì •ë³´
    â”‚   â”œâ”€â”€ AI ì§„ë‹¨ ê²°ê³¼
    â”‚   â”œâ”€â”€ ì˜ì‚¬ ì†Œê²¬ ì‘ì„±
    â”‚   â””â”€â”€ ìƒíƒœ ë³€ê²½
    â””â”€â”€ PatientList.js          # í™˜ì ëª©ë¡
        â””â”€â”€ í™˜ìë³„ ì§„ë‹¨ ì´ë ¥
```

---

## ë°°í¬ ì•„í‚¤í…ì²˜

### Render.com ë°°í¬ í”„ë¡œì„¸ìŠ¤

```
GitHub Repository (main ë¸Œëœì¹˜)
    â”‚
    â”‚ git push
    â–¼
Render Webhook íŠ¸ë¦¬ê±°
    â”‚
    â–¼
Build Phase (render.yaml)
    â”‚
    â”œâ”€â–º 1. Patient Portal ë¹Œë“œ
    â”‚      cd patient-portal
    â”‚      PUBLIC_URL=/patient npm install
    â”‚      PUBLIC_URL=/patient npm run build
    â”‚      â†’ build/ í´ë” ìƒì„±
    â”‚
    â”œâ”€â–º 2. Admin Dashboard ë¹Œë“œ
    â”‚      cd admin-dashboard
    â”‚      PUBLIC_URL=/admin npm install
    â”‚      PUBLIC_URL=/admin npm run build
    â”‚      â†’ build/ í´ë” ìƒì„±
    â”‚
    â””â”€â–º 3. Backend ì˜ì¡´ì„± ì„¤ì¹˜
           cd backend
           npm install
    â”‚
    â–¼
Deploy Phase
    â”‚
    â”œâ”€â–º Start Command ì‹¤í–‰
    â”‚      npm --prefix backend start
    â”‚
    â”œâ”€â–º Express ì„œë²„ ì‹œì‘
    â”‚      â”œâ”€â”€ í¬íŠ¸ 10000 ë¦¬ìŠ¤ë‹
    â”‚      â”œâ”€â”€ Aiven MySQL ì—°ê²°
    â”‚      â”œâ”€â”€ ì •ì  íŒŒì¼ ì„œë¹™ ì„¤ì •
    â”‚      â”‚   â”œâ”€â”€ /patient â†’ patient-portal/build
    â”‚      â”‚   â””â”€â”€ /admin â†’ admin-dashboard/build
    â”‚      â””â”€â”€ API ë¼ìš°íŠ¸ ë“±ë¡
    â”‚
    â””â”€â–º Health Check
           Renderê°€ í¬íŠ¸ 10000 ì˜¤í”ˆ í™•ì¸
           â†’ "Deploy live" âœ…
    â”‚
    â–¼
Production URL
    https://medical-diagnosis-platform.onrender.com
    â”œâ”€â”€ /patient   â†’ í™˜ì í¬í„¸
    â”œâ”€â”€ /admin     â†’ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
    â””â”€â”€ /api       â†’ REST API
```

### í™˜ê²½ ë³€ìˆ˜ íë¦„

```
Render Dashboard
    â”‚
    â”‚ Environment Variables ì„¤ì •
    â”œâ”€â”€ DB_HOST
    â”œâ”€â”€ DB_PORT
    â”œâ”€â”€ DB_USER
    â”œâ”€â”€ DB_PASSWORD
    â”œâ”€â”€ DB_NAME
    â”œâ”€â”€ DB_SSL
    â”œâ”€â”€ GEMINI_API_KEY
    â”œâ”€â”€ CLOUDINARY_*
    â”œâ”€â”€ JWT_SECRET
    â”œâ”€â”€ NODE_ENV=production
    â””â”€â”€ PORT=10000
    â”‚
    â–¼
process.env (Node.js)
    â”‚
    â”œâ”€â–º backend/config/database.js
    â”‚      â†’ MySQL ì—°ê²° ì„¤ì •
    â”‚
    â”œâ”€â–º backend/middleware/auth.js
    â”‚      â†’ JWT ì„œëª…/ê²€ì¦
    â”‚
    â”œâ”€â–º backend/routes/diagnoses.js
    â”‚      â”œâ”€â”€ Cloudinary ì—…ë¡œë“œ
    â”‚      â””â”€â”€ Gemini API í˜¸ì¶œ
    â”‚
    â””â”€â–º backend/server.js
           â†’ í¬íŠ¸ ì„¤ì •
```

---

## ë³´ì•ˆ ì•„í‚¤í…ì²˜

### ì¸ì¦ íë¦„

```
í´ë¼ì´ì–¸íŠ¸
    â”‚
    â”‚ 1. POST /api/auth/login
    â”‚    { email, password }
    â–¼
ë°±ì—”ë“œ
    â”‚
    â”œâ”€â–º 2. DBì—ì„œ ì‚¬ìš©ì ì¡°íšŒ
    â”‚
    â”œâ”€â–º 3. bcryptë¡œ ë¹„ë°€ë²ˆí˜¸ ê²€ì¦
    â”‚
    â”œâ”€â–º 4. JWT í† í° ìƒì„±
    â”‚      payload: { userId, email, role }
    â”‚      secret: JWT_SECRET
    â”‚      expiresIn: 24h
    â”‚
    â””â”€â–º 5. í† í° ë°˜í™˜
           { token, user }
    â”‚
    â–¼
í´ë¼ì´ì–¸íŠ¸
    â”‚
    â”‚ 6. localStorageì— í† í° ì €ì¥
    â”‚
    â”‚ 7. ì´í›„ ëª¨ë“  ìš”ì²­ì— í—¤ë” ì¶”ê°€
    â”‚    Authorization: Bearer <token>
    â–¼
ë°±ì—”ë“œ (verifyToken ë¯¸ë“¤ì›¨ì–´)
    â”‚
    â”œâ”€â–º 8. JWT ê²€ì¦
    â”‚
    â”œâ”€â–º 9. payload ì¶”ì¶œ
    â”‚
    â””â”€â–º 10. req.userì— ì €ì¥
    â”‚
    â–¼
ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬
    â”‚
    â””â”€â–º req.userë¡œ ì‚¬ìš©ì ì •ë³´ ì ‘ê·¼
```

### ê¶Œí•œ ì œì–´

```
requireDoctor ë¯¸ë“¤ì›¨ì–´
    â”‚
    â”‚ if (req.user.role !== 'doctor')
    â–¼
403 Forbidden
    â”‚
    â–¼
ê´€ë¦¬ì API ì ‘ê·¼ ê±°ë¶€
```

---

## ì„±ëŠ¥ ìµœì í™”

### 1. ë°ì´í„°ë² ì´ìŠ¤
- **Connection Pool**: ìµœëŒ€ 10ê°œ ì—°ê²° ì¬ì‚¬ìš©
- **ì¸ë±ìŠ¤**: email, patient_id, status ì»¬ëŸ¼
- **í˜ì´ì§€ë„¤ì´ì…˜**: LIMIT/OFFSET ì‚¬ìš©

### 2. ì´ë¯¸ì§€
- **Cloudinary ìµœì í™”**:
  - ìë™ ë¦¬ì‚¬ì´ì§• (1200x1200)
  - WebP í¬ë§· ë³€í™˜
  - CDN ìºì‹±
- **Lazy Loading**: ì´ë¯¸ì§€ ì§€ì—° ë¡œë”©

### 3. í”„ë¡ íŠ¸ì—”ë“œ
- **React Production Build**: ì••ì¶• ë° ìµœì í™”
- **Code Splitting**: React.lazy()
- **Memoization**: React.memo(), useMemo()

### 4. ë°±ì—”ë“œ
- **ì‘ë‹µ ì••ì¶•**: compression ë¯¸ë“¤ì›¨ì–´
- **ì •ì  íŒŒì¼ ìºì‹±**: max-age=1year

---

## ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### ë¡œê·¸ êµ¬ì¡°

```
ì„œë²„ ì‹œì‘ ë¡œê·¸
âœ… Database connected
âœ… Server running on port 10000
âœ… Patient Portal: /patient
âœ… Admin Dashboard: /admin
âœ… API: /api

API ìš”ì²­ ë¡œê·¸
[POST] /api/auth/login - 200 OK (45ms)
[GET] /api/diagnoses/my - 200 OK (123ms)
[POST] /api/diagnoses - 201 Created (2345ms)

ì—ëŸ¬ ë¡œê·¸
âŒ Database connection failed: ECONNREFUSED
âŒ JWT verification failed: invalid signature
âŒ Cloudinary upload failed: network timeout
```

### Render ëª¨ë‹ˆí„°ë§

- **Metrics íƒ­**: CPU, Memory, Response Time
- **Logs íƒ­**: ì‹¤ì‹œê°„ ì„œë²„ ë¡œê·¸
- **Events íƒ­**: ë°°í¬ ì´ë ¥

---

## ì¥ì•  ëŒ€ì‘

### ì‹œë‚˜ë¦¬ì˜¤ 1: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨
```
ì¦ìƒ: 500 Internal Server Error
ì›ì¸: Aiven ì„œë¹„ìŠ¤ ì¤‘ì§€ ë˜ëŠ” SSL ì˜¤ë¥˜
í•´ê²°:
  1. Aiven Consoleì—ì„œ ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
  2. DB_SSL=true í™˜ê²½ë³€ìˆ˜ í™•ì¸
  3. ì—°ê²° ì •ë³´ ì¬í™•ì¸
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨
```
ì¦ìƒ: ì´ë¯¸ì§€ ì €ì¥ ì•ˆ ë¨
ì›ì¸: Cloudinary í™˜ê²½ë³€ìˆ˜ ëˆ„ë½
í•´ê²°:
  1. CLOUDINARY_* í™˜ê²½ë³€ìˆ˜ í™•ì¸
  2. /api/debug/db ì—”ë“œí¬ì¸íŠ¸ í™•ì¸
  3. Cloudinary ê³„ì • ìƒíƒœ í™•ì¸
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: AI ì§„ë‹¨ ì‹¤íŒ¨
```
ì¦ìƒ: AI ì§„ë‹¨ ê²°ê³¼ ì—†ìŒ
ì›ì¸: Gemini API í‚¤ ì˜¤ë¥˜ ë˜ëŠ” í• ë‹¹ëŸ‰ ì´ˆê³¼
í•´ê²°:
  1. GEMINI_API_KEY í™˜ê²½ë³€ìˆ˜ í™•ì¸
  2. Google AI Studioì—ì„œ í• ë‹¹ëŸ‰ í™•ì¸
  3. ë°±ì—… ë¡œì§ ì‘ë™ í™•ì¸
```

---

## ì°¸ê³  ë¬¸ì„œ

- [ë°°í¬ ê°€ì´ë“œ](DEPLOY_GUIDE.md)
- [í™˜ê²½ ë³€ìˆ˜ ì„¤ì •](ENVIRONMENT_VARIABLES.md)
- [ë¬¸ì œ í•´ê²°](RENDER_TROUBLESHOOTING.md)
- [API ë¬¸ì„œ](API_DOCUMENTATION.md) (ì¶”í›„ ì‘ì„±)
